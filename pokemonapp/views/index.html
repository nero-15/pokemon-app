<!DOCTYPE html>
<html lang="ja">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>pokemon app</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">

	<!-- nes.css -->
	<link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
	<link href="https://unpkg.com/nes.css@latest/css/nes.min.css" rel="stylesheet" />

	<style>
	html, body, pre, code, kbd, samp {
		font-family: "Press Start 2P";
	}
	</style>

	<style>
		.bd-placeholder-img {
			font-size: 1.125rem;
			text-anchor: middle;
			-webkit-user-select: none;
			-moz-user-select: none;
			user-select: none;
		}

		@media (min-width: 768px) {
			.bd-placeholder-img-lg {
				font-size: 3.5rem;
			}
		}
	</style>

	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
</head>
<body>
<div id='app'>
	<header>
		<div class="navbar navbar-dark bg-dark shadow-sm">
			<div class="container">
				<a href="/" class="navbar-brand d-flex align-items-center">
					<strong>Hello, pokemon app!!</strong>
				</a>
			</div>
		</div>
	</header>

	<main>
		<section class="py-5 text-center container">
			<div class="row py-lg-5">
				<div class="col-lg-6 col-md-8 mx-auto">
					<h1 class="fw-light">search</h1>
					<p class="lead text-muted">please enter the keyword you want to search</p>
					<form>
						<div class="mb-3">
							<input type="text" class="nes-input" placeholder="" v-model="name">
						</div>
						<button type="button" class="nes-btn is-primary" @click="search">search!</button>
					</form>
				</div>
			</div>
		</section>
	</main>

	<footer class="text-muted py-5">
		<div class="container">
			<p class="float-end mb-1">
				<a href="#">Back to top</a>
			</p>
		</div>
	</footer>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/axios@0.21.1/dist/axios.min.js"></script>
<script>
var app = new Vue({
	el: '#app',
	data: {
		name: '',
		pokemon: [],
	},
	methods: {
		search: function () {
			if (this.validateNotEmptyName()) {alert("検索キーワードを入力してください"); return;}
			axios.get('/api/search', {
				params: {
					name: app.name,
				}
			})
			.then(function (response) {
				console.log(response);
				app.pokemon = response;
			})
			.catch(function (error) {
			})
			.then(function(){
			});
		},
		validateNotEmptyName: function () {
			return this.name.length <= 0
		},
	}
})
</script>
</body>
</html>